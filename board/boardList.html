<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Board</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body class="bg-light">
    <div class="container mt-5">
        <h1 class="mb-4 text-center">ğŸ“‹ ê²Œì‹œíŒ</h1>
        
        <table id="board" class="table table-bordered table-hover bg-white">
          <thead class="table-primary">
            <tr>
              <th>ë²ˆí˜¸</th>
              <th>ì œëª©</th>
              <th>ì‘ì„±ì</th>
              <th>ë“±ë¡ì¼</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <!-- ê²Œì‹œê¸€ ëª©ë¡ ì‚½ì… -->
          </tbody>
        </table>
    
        <div class="text-end">
          <a href="../index.html" class="btn btn-danger">ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™</a>
          <a href="./writeBoard.html" class="btn btn-primary">ê¸€ì“°ê¸°</a>
        </div>
      </div>

<script>
    window.onload = function(){
        tbody = document.querySelector("#tbody");
        createdHtml = "";
        const posts = JSON.parse(localStorage.getItem("posts"));
        if(!posts || posts.length === 0) {
            createdHtml = `<tr><td colspan="4" class="text-center text-muted">ì‘ì„±ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
        }
        else{
            posts.forEach((item, idx) => {
                console.log(item.title);
                
                // ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë„˜ê²¨ì£¼ê¸°.
                createdHtml += `<tr>
                                    <td>${idx+1}</td>
                                    <td><a href = "./boardDetail.html?idx=${idx}">${item.title}</a></td>
                                    <td>${item.writer}</td>
                                    <td>${item.createdDate}</td>
                                    </a>
                                </tr>`;
            });
        }
        tbody.innerHTML = createdHtml;
    }

</script>
</body>
</html>